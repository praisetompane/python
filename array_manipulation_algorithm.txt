
min_query_index
max_query_index

applicable_indices_sums = generate indices from min_query_index to  max_query_index+1
save them in dictionary

for idx, in applicable_indices_sums:
    for all queries:
        increment idx sum, if its in the queries range(i.e. >= a and <=b)
